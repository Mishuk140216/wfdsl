{
    "name":"galaxy_101",
    "desc":"MyExperiment Sample",
    "sample":[
        "task():",
        "    history_ids = HistoryNameToIDs('celery') ",
        "    history_id = history_ids[0]",
        "    input1 = Upload('/public/paeruginosa-reads/SRR396636.sra_1.fastq', history_id = history_id)",
        "    input2 = Upload('/public/paeruginosa-reads/SRR396636.sra_2.fastq')",
        "    ",
        "    sam_input1 = FastqToSam(data=input1, history_id=history_id)",
        "    sam_input2 = FastqToSam(data=input2, history_id=history_id)",
        "    datatype = GetDataType(sam_input1)",
        "    if datatype == 'galaxy.datatypes.binary.Bam':",
        "        sam_input1 = BamToSam(data=sam_input1, history_id=history_id)",
        "    ",
        "    datatype = GetDataType(sam_input2)",
        "    if datatype == 'galaxy.datatypes.binary.Bam':",
        "        sam_input2 = BamToSam(data=sam_input2, history_id=history_id)",
        "        ",
        "    interval_input1 = SamToInterval(data=sam_input1, history_id=history_id)",
        "    interval_input2 = SamToInterval(data=sam_input2, history_id=history_id)",
        "    ",
        "    ijoin_data = iJoin(data1=interval_input1, data2=interval_input2, min=1, history_id=history_id)",
        "    grouped_data = Group(data1=ijoin_data, groupcol=1, history_id=history_id) # op1='mean|1|no' optype=mean|median|mode|max|min|sum|length|unique|cat|cat_uniq|randomly|std",
        "    sorted_data = Sort(data1=grouped_data, col='1|num|DESC', history_id=history_id) # style=num|gennum|alpha, order=DESC|ASC",
        "    selected_data = SelectFirst(data1=sorted_data, lines=10, history_id=history_id)",
        "    compared_data = Compare(data1=interval_input1, data2=selected_data, field1=1, field2=1, history_id=history_id)"
    ]
}
